(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db4171ba"],{"0824":function(t,a,s){},"159b":function(t,a,s){var e=s("da84"),i=s("fdbc"),r=s("17c2"),c=s("9112");for(var n in i){var o=e[n],l=o&&o.prototype;if(l&&l.forEach!==r)try{c(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,a,s){"use strict";var e=s("b727").forEach,i=s("a640"),r=s("ae40"),c=i("forEach"),n=r("forEach");t.exports=c&&n?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},"328c":function(t,a,s){"use strict";var e=s("57ac"),i=s.n(e);i.a},4160:function(t,a,s){"use strict";var e=s("23e7"),i=s("17c2");e({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"56a6":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,e){return s("div",{key:e,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(e)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(s("4160"),s("a434"),s("159b"),{data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var s=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(s,e){s.timestamp===t&&a.messages.splice(e,1)}))}),3e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,s)}))}}),c=r,n=(s("dac4"),s("2877")),o=Object(n["a"])(c,e,i,!1,null,"2bfd03c6",null);a["a"]=o.exports},"57ac":function(t,a,s){},"70f9":function(t,a,s){"use strict";var e=s("c3e3"),i=s.n(e);i.a},"7fbc":function(t,a,s){},8418:function(t,a,s){"use strict";var e=s("c04e"),i=s("9bf2"),r=s("5c6c");t.exports=function(t,a,s){var c=e(a);c in t?i.f(t,c,r(0,s)):t[c]=s}},"99af":function(t,a,s){"use strict";var e=s("23e7"),i=s("d039"),r=s("e8b5"),c=s("861d"),n=s("7b0b"),o=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),f=s("b622"),v=s("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,h="Maximum allowed index exceeded",m=v>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!c(t))return!1;var a=t[g];return void 0!==a?!!a:r(t)},_=!m||!b;e({target:"Array",proto:!0,forced:_},{concat:function(t){var a,s,e,i,r,c=n(this),d=u(c,0),f=0;for(a=-1,e=arguments.length;a<e;a++)if(r=-1===a?c:arguments[a],C(r)){if(i=o(r.length),f+i>p)throw TypeError(h);for(s=0;s<i;s++,f++)s in r&&l(d,f,r[s])}else{if(f>=p)throw TypeError(h);l(d,f++,r)}return d.length=f,d}})},a434:function(t,a,s){"use strict";var e=s("23e7"),i=s("23cb"),r=s("a691"),c=s("50c4"),n=s("7b0b"),o=s("65f0"),l=s("8418"),u=s("1dde"),d=s("ae40"),f=u("splice"),v=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,p=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,a){var s,e,u,d,f,v,b=n(this),C=c(b.length),_=i(t,C),y=arguments.length;if(0===y?s=e=0:1===y?(s=0,e=C-_):(s=y-2,e=p(g(r(a),0),C-_)),C+s-e>h)throw TypeError(m);for(u=o(b,e),d=0;d<e;d++)f=_+d,f in b&&l(u,d,b[f]);if(u.length=e,s<e){for(d=_;d<C-e;d++)f=d+e,v=d+s,f in b?b[v]=b[f]:delete b[v];for(d=C;d>C-e+s;d--)delete b[d-1]}else if(s>e)for(d=C-e;d>_;d--)f=d+e-1,v=d+s-1,f in b?b[v]=b[f]:delete b[v];for(d=0;d<s;d++)b[d+_]=arguments[d+2];return b.length=C-e+s,u}})},a640:function(t,a,s){"use strict";var e=s("d039");t.exports=function(t,a){var s=[][t];return!!s&&e((function(){s.call(null,a||function(){throw 1},1)}))}},c3e3:function(t,a,s){},c489:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("Menu",{on:{deleteFav:function(a){return t.save(t.item)}}}),s("AlertMessage"),s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"container"},[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb mt-3 bg-transparent text-secondary"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{staticClass:"text-decoration-none",attrs:{to:"/"}},[t._v("Home")])],1),s("li",{staticClass:"breadcrumb-item"},[t._v("產品列表")]),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.category))])])]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-md-3 mb-3"},[s("div",{staticClass:"list-group"},[s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"所有餐點"===t.category},attrs:{href:"#所有餐點","data-toggle":"list"},on:{click:function(a){t.category="所有餐點"}}},[t._v("所有餐點")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"單片蛋糕"===t.category},attrs:{href:"#單片蛋糕","data-toggle":"list"},on:{click:function(a){t.category="單片蛋糕"}}},[t._v("單片蛋糕")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"生日蛋糕"===t.category},attrs:{href:"#生日蛋糕","data-toggle":"list"},on:{click:function(a){t.category="生日蛋糕"}}},[t._v("生日蛋糕")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"點心&輕食"===t.category},attrs:{href:"#點心&輕食","data-toggle":"list"},on:{click:function(a){t.category="點心&輕食"}}},[t._v("點心&輕食")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"節慶限定"===t.category},attrs:{href:"#節慶限定","data-toggle":"list"},on:{click:function(a){t.category="節慶限定"}}},[t._v("節慶限定")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"烘焙教學"===t.category},attrs:{href:"#烘焙教學","data-toggle":"list"},on:{click:function(a){t.category="烘焙教學"}}},[t._v("烘焙教學")]),s("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/customize"}},[t._v("訂製蛋糕")])],1)]),s("div",{staticClass:"d-md-none d-block ml-auto mb-2"},[s("button",{staticClass:"btn btn-warning mr-3",attrs:{type:"button"},on:{click:function(a){t.show=!0}}},[s("i",{staticClass:"fas fa-th-large"})]),s("button",{staticClass:"btn btn-warning mr-3",attrs:{type:"button"},on:{click:function(a){t.show=!1}}},[s("i",{staticClass:"fas fa-list-ul"})])]),t.show?s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{id:t.category}},[s("div",{staticClass:"row"},t._l(t.filterCategory,(function(a){return s("div",{key:a.id,staticClass:"col-md-4 mb-4"},[s("div",{staticClass:"card border-0"},[s("div",{staticClass:"h5",on:{click:function(s){return s.preventDefault(),t.save(a)}}},[t.checkFavStatus(a)?s("i",{staticClass:"fas fa-heart cursor heart text-danger"}):s("i",{staticClass:"far fa-heart cursor heart text-danger"})]),s("div",{staticClass:"card-image cursor bg-cover",staticStyle:{height:"200px"},style:{backgroundImage:"url("+a.imageUrl+")"},on:{click:function(s){return t.getOneProduct(a.id)}}}),s("div",{staticClass:"card-body cursor",on:{click:function(s){return t.getOneProduct(a.id)}}},[s("span",{staticClass:"badge badge-pill badge-warning float-right ml-2 p-1"},[t._v(t._s(a.category))]),s("h6",{staticClass:"card-title"},[s("p",{staticClass:"text-accent font-weight-bold"},[t._v(t._s(a.title))])]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():s("div",{staticClass:"h5"},[t._v("2,800 元")]),a.price?s("del",{staticClass:"h6 text-secondary"},[t._v("原價"+t._s(t._f("currencyFilter")(a.origin_price))+"元")]):t._e(),a.price?s("div",{staticClass:"h6 text-danger"},[t._v("特價"+t._s(t._f("currencyFilter")(a.price))+"元")]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(s){return t.getOneProduct(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),s("button",{staticClass:"btn btn-primary btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){return t.addtoCart(a.id,t.qty)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])})),0)])])]):s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{id:t.category}},[s("div",{staticClass:"row px-3"},t._l(t.filterCategory,(function(a){return s("div",{key:a.id,staticClass:"col-md-4 mb-4"},[s("div",{staticClass:"row border"},[s("div",{staticClass:"col-10 d-flex pl-0"},[s("div",{staticClass:"card-image bg-cover",staticStyle:{width:"120px"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"flex-grow-1 p-3 "},[s("h6",{staticClass:"card-title"},[s("p",{staticClass:"text-accent font-weight-bold"},[t._v(t._s(a.title))])]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():s("div",{staticClass:"h5"},[t._v("2,800 元")]),a.price?s("del",{staticClass:"h6"},[t._v(t._s(t._f("currencyFilter")(a.origin_price)))]):t._e(),a.price?s("div",{staticClass:"h5 text-danger"},[t._v(t._s(t._f("currencyFilter")(a.price)))]):t._e()])])]),s("div",{staticClass:"col-2 p-3"},[s("a",{staticClass:"d-block mb-2",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.getOneProduct(a.id)}}},[s("i",{staticClass:"fas fa-info-circle fa-2x"})]),s("a",{staticClass:"d-block",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addtoCart(a.id,t.qty)}}},[s("i",{staticClass:"fas fa-shopping-cart fa-2x"})])])])])})),0)])])])])]),s("footer",[s("Footer")],1)],1)},i=[],r=(s("99af"),s("4de4"),s("4160"),s("c975"),s("a434"),s("159b"),s("fb62")),c=s("56a6"),n=s("fd2d"),o={components:{Menu:r["a"],AlertMessage:c["a"],Footer:n["a"]},data:function(){return{products:[],saveItems:[],localStorageData:JSON.parse(localStorage.getItem("favItems"))||[],isLoading:!1,category:"所有餐點",cartNumber:"",favNumber:"",pagination:{},oneProduct:{},status:{loadingItem:""},cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},show:!0}},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/products/all");t.isLoading=!0,t.axios.get(a).then((function(a){t.products=a.data.products,t.products.forEach((function(a){t.$set(a,"favItem",!1)})),t.pagination=a.data.pagination,t.isLoading=!1,t.localStorageData=JSON.parse(localStorage.getItem("favItems")),t.localStorageData.forEach((function(a){t.products.forEach((function(s){a.id===s.id&&(s.favItem=!0,t.saveItems.push(s),t.$bus.$emit("fav",t.favNumber))}))}))}))},getOneProduct:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/product/").concat(t);a.status.loadingItem=t,a.axios.get(s).then((function(s){a.oneProduct=s.data.product,a.$router.push("/customer_orders/".concat(t)),a.status.loadingItem=""}))},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,e=s.cart.carts.filter((function(a){return a.product_id===t}));if(e.length>0){var i=e[0],r=i.id,c=i.qty,n=c+a,o=i.product.id,l="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/cart/").concat(r),u="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/cart"),d={product_id:o,qty:n};s.isLoading=!0,s.axios.all([s.axios.delete(l),s.axios.post(u,{data:d})]).then(s.axios.spread((function(){s.getCart(),s.isLoading=!1,s.$bus.$emit("message:push","已加入購物車","warning")})))}else{var f="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/cart");s.isLoading=!0;var v={product_id:t,qty:a};s.axios.post(f,{data:v}).then((function(t){s.isLoading=!1,s.getCart(),s.$bus.$emit("message:push",t.data.message,"warning")}))}},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/cart");t.isLoading=!0,t.axios.get(a).then((function(a){t.cart=a.data.data,t.cartNumber=a.data.data.carts.length,t.isLoading=!1,t.$bus.$emit("cart",t.cartNumber)}))},backtoCart:function(){var t=this;t.$router.push("/cart")},save:function(t){var a=this,s=a.saveItems.indexOf(t);s>=0?(t.favItem=!1,a.saveItems.splice(s,1),a.favNumber=a.saveItems.length,a.$bus.$emit("fav",a.favNumber),a.$bus.$emit("favList",a.saveItems)):(t.favItem=!0,a.saveItems.push(t),a.favNumber=a.saveItems.length,a.$bus.$emit("fav",a.favNumber),a.$bus.$emit("favList",a.saveItems)),localStorage.setItem("favItems",JSON.stringify(a.saveItems))},checkFavStatus:function(t){var a=this;return null===this.localStorageData&&(this.localStorageData=[]),!(!t.favItem&&a.localStorageData.id!==t.id)}},computed:{filterCategory:function(){var t=this,a=[];return"單片蛋糕"===t.category?a=t.products.filter((function(t){return"單片蛋糕"===t.category})):"生日蛋糕"===t.category?a=t.products.filter((function(t){return"生日蛋糕"===t.category})):"節慶限定"===t.category?a=t.products.filter((function(t){return"節慶限定"===t.category})):"點心&輕食"===t.category?a=t.products.filter((function(t){return"點心&輕食"===t.category})):"所有餐點"===t.category?a=t.products:"烘焙教學"===t.category&&(a=t.products.filter((function(t){return"烘焙教學"===t.category}))),a},sortOrder:function(){var t=this,a=[];return t.orders.length&&(a=t.orders.sort((function(t,a){var s=t.is_paid?1:0,e=a.is_paid?1:0;return e-s}))),a}},created:function(){var t=this;this.getProducts(),this.getCart(),t.$bus.$on("addtoCart",(function(a,s){t.addtoCart(a,s),t.getCart()})),t.$bus.$on("deleteFav",(function(a){t.save(a)}))}},l=o,u=(s("70f9"),s("2877")),d=Object(u["a"])(l,e,i,!1,null,"df7d1602",null);a["default"]=d.exports},c975:function(t,a,s){"use strict";var e=s("23e7"),i=s("4d64").indexOf,r=s("a640"),c=s("ae40"),n=[].indexOf,o=!!n&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),u=c("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(t){return o?n.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},dac4:function(t,a,s){"use strict";var e=s("7fbc"),i=s.n(e);i.a},db6f:function(t,a,s){"use strict";var e=s("0824"),i=s.n(e);i.a},fb62:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"sticky-top"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"navbar-brand box-shadow bg-transparent",attrs:{to:"/"}},[t._v("Starlight")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[s("ul",{staticClass:"navbar-nav align-items-center w-100"},[s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v(" 關於我們 "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/news"}},[t._v("最新消息")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/customer_orders"}},[t._v("餐點介紹")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/customize"}},[t._v("訂製蛋糕")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/check_orders"}},[t._v("查看訂單")])],1),s("li",{staticClass:"nav-item ml-lg-auto"},[s("router-link",{staticClass:"nav-link text-secondary h5",attrs:{to:"/login"}},[s("i",{staticClass:"fas fa-cog"})])],1),s("li",{staticClass:"nav-item"},[s("div",{staticClass:"dropdown"},[s("a",{staticClass:"nav-link text-secondary h5",attrs:{href:"#",role:"button",id:"fav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-heart"}),t.localList?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.localList.length))]):s("span",{staticClass:"badge badge-danger"},[t._v("0")])]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"fav"}},[t.localList?s("div",{staticClass:"table-responsive p-3 font-size"},[s("h6",[t._v("收藏清單")]),s("table",{staticClass:"table table-hover width "},[s("tbody",t._l(t.localList,(function(a,e){return s("tr",{key:e},[s("td",{staticClass:"align-middle",attrs:{width:"20%"}},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteFavItem(a,e)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.title)+" ")]),s("td"),s("td",[s("a",{staticClass:"d-block",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addFavtoCart(a.id,t.qty=1)}}},[s("i",{staticClass:"fas fa-shopping-cart fa-2x"})])])])})),0)])]):s("div",{staticClass:"width p-3"},[s("div",{staticClass:"text-center"},[s("h6",{staticClass:"text-primary"},[t._v("您的收藏清單目前是空的")]),s("router-link",{staticClass:"btn btn-heavy btn-sm",attrs:{to:"customer_orders"}},[t._v("繼續逛逛")])],1)])])])]),s("li",{staticClass:"nav-item"},[s("div",{staticClass:"dropdown"},[s("a",{staticClass:"nav-link text-secondary h5",attrs:{href:"#",role:"button",id:"cart","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-shopping-cart"}),t.number?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.number))]):s("span",{staticClass:"badge badge-danger"},[t._v("0")])]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"cart"}},[0!==t.cart.total?s("div",{staticClass:"table-responsive p-3 font-size"},[s("h6",[t._v("選購商品")]),s("table",{staticClass:"table table-hover width "},[s("tbody",t._l(t.cart.carts,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?s("div",{staticClass:"text-success"},[t._v("已套用折扣碼")]):t._e()]),s("td",{staticClass:"align-middle",attrs:{width:"20%"}},[t._v(t._s(a.qty)+t._s(a.product.unit))]),s("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currencyFilter")(a.final_total)))]),s("td"),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteCartItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0),0!==t.cart.total?s("tfoot",{staticClass:"bg-light"},[s("tr",[s("td",{staticClass:"text-right border-top-0",attrs:{colspan:"4"}},[t._v("總計")]),s("td",{staticClass:"h6 text-danger border-top-0"},[t._v(t._s(t._f("currencyFilter")(t.cart.final_total)))])])]):t._e()]),s("router-link",{staticClass:"btn btn-block btn-primary",attrs:{to:"checkout"}},[t._v("結帳去")])],1):s("div",{staticClass:"width p-3"},[s("div",{staticClass:"text-center"},[s("h6",{staticClass:"text-primary"},[t._v("您的購物車目前是空的")]),s("router-link",{staticClass:"btn btn-heavy btn-sm",attrs:{to:"customer_orders"}},[t._v("繼續逛逛")])],1)])])])])])])],1)])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],r=(s("99af"),s("4160"),s("a434"),s("159b"),{props:["localdata"],data:function(){return{number:"",cart:{},favList:[],favnumber:"",localList:[],localStorageData:JSON.parse(localStorage.getItem("favItems"))||[],products:[],saveItems:[]}},methods:{updateCart:function(t){this.number=t},updateFav:function(t){this.favnumber=t},updateFavList:function(t){this.localList=t},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/cart");t.axios.get(a).then((function(a){t.cart=a.data.data,t.number=a.data.data.carts.length}))},deleteCartItem:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/cart/").concat(t);a.axios.delete(s).then((function(t){a.getCart(),a.$bus.$emit("message:push",t.data.message,"warning")}))},deleteFavItem:function(t,a){var s=this;t.favItem=!1,s.localList.splice(a,1),s.$bus.$emit("deleteFav",this.localList)},addFavtoCart:function(t,a){var s=this;console.log(t,a),s.$bus.$emit("addtoCart",t,a)},getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("starlightselect","/products/all");t.isLoading=!0,t.axios.get(a).then((function(a){t.products=a.data.products,t.products.forEach((function(a){t.$set(a,"favItem",!1)})),t.pagination=a.data.pagination,t.isLoading=!1,t.localStorageData=JSON.parse(localStorage.getItem("favItems")),t.localStorageData.forEach((function(a){t.products.forEach((function(s){a.id===s.id&&(s.favItem=!0,t.localList.push(s),t.updateFav(t.localList.length))}))}))}))}},created:function(){var t=this;t.$bus.$on("cart",(function(a){t.updateCart(a),t.getCart()})),t.$bus.$on("fav",(function(a){t.updateFav(a)})),t.$bus.$on("favList",(function(a){t.updateFavList(a),console.log(a)})),t.getCart(),t.getProducts()}}),c=r,n=(s("328c"),s("2877")),o=Object(n["a"])(c,e,i,!1,null,"e8507c48",null);a["a"]=o.exports},fd2d:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"bg-white mt-5 footer-height"},[e("div",{staticClass:"text-center text-secondary "},[e("img",{staticClass:"img-fluid",staticStyle:{width:"150px",height:"150px"},attrs:{src:s("fef8"),alt:"",srcset:""}}),e("p",[t._v("© 2020 Starlight* All Rights Reserved")]),e("div",[e("ul",{staticClass:"list-unstyled d-flex justify-content-center"},[e("li",{staticClass:"mr-2"},[e("a",{staticClass:"text-accent",attrs:{href:"# "}},[e("i",{staticClass:"fab fa-facebook-square fa-2x"})])]),e("li",{staticClass:"mr-2"},[e("a",{staticClass:"text-accent",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-instagram instagram fa-2x"})])]),e("li",{staticClass:"mr-2"},[e("a",{staticClass:"text-success",attrs:{href:"#"}},[e("i",{staticClass:"fab fa-line fa-2x"})])])])])]),e("div",{staticClass:"bg-slight mt-3 py-4"},[e("div",{staticClass:"text-center"},[e("span",[t._v("資料、圖片來源皆來自網路，僅用來做為學習用途。")])])])])])}],r=(s("db6f"),s("2877")),c={},n=Object(r["a"])(c,e,i,!1,null,"3925e17b",null);a["a"]=n.exports},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fef8:function(t,a,s){t.exports=s.p+"img/logo.f20dc4a5.svg"}}]);
//# sourceMappingURL=chunk-db4171ba.2f2d11f7.js.map